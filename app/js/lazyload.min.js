"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t;t=function(){function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function r(t){return e({},et,t)}function t(t,e){var n,o="LazyLoad::Initialized",e=new t(e);try{n=new CustomEvent(o,{detail:{instance:e}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(o,!1,!1,{instance:e})}window.dispatchEvent(n)}function c(t,e){return t.getAttribute(lt+e)}function u(t){return h(t)===rt}function d(t){return t.llTempImage}function G(t,e){t&&(t.toLoadCount=e)}function j(t){for(var e,n=[],o=0;e=t.children[o];o+=1)"SOURCE"===e.tagName&&n.push(e);return n}function D(t,e){j(t).forEach(e)}function H(t){delete t[p]}function n(e,t){var n;M(e)||(n={},t.forEach(function(t){n[t]=e.getAttribute(t)}),e[p]=n)}function f(o,t){var a;M(o)&&(a=dt(o),t.forEach(function(t){var e,n;e=o,(n=a[t=t])?e.setAttribute(t,n):e.removeAttribute(t)}))}function V(t,e,n){w(t,e.class_applied),E(t,it),n&&(e.unobserve_completed&&L(t,e),k(e.callback_applied,t,n))}function F(t,e,n){w(t,e.class_loading),E(t,m),n&&(O(n,1),k(e.callback_loading,t,n))}function o(t,e,n){n&&t.setAttribute(e,n)}function B(t,e){o(t,b,c(t,e.data_sizes)),o(t,i,c(t,e.data_srcset)),o(t,g,c(t,e.data_src))}function J(t,e){!e||0<e.loadingCount||0<e.toLoadCount||k(t.callback_finish,e)}function P(t,e,n){t.addEventListener(e,n),t.llEvLisnrs[e]=n}function U(t,e,n){delete t.llTempImage,O(n,-1),n&&--n.toLoadCount,A(t,e.class_loading),e.unobserve_completed&&L(t,n)}function s(r,l,c){var t,e,s=d(r)||r;z(s)||(z(t=s)||(t.llEvLisnrs={}),e="VIDEO"===t.tagName?"loadeddata":"load",P(t,e,function(t){var e=0,n=r,o=l,a=c,i=u(n);U(n,o,a),w(n,o.class_loaded),E(n,at),k(o.callback_loaded,n,a),i||J(o,a),T(s)}),P(t,"error",function(t){var e=0,n=r,o=l,a=c,i=u(n);U(n,o,a),w(n,o.class_error),E(n,v),k(o.callback_error,n,a),o.restore_on_error&&f(n,N),i||J(o,a),T(s)}))}function $(t){return t.use_native&&"loading"in HTMLImageElement.prototype}function q(t,s,u){t.forEach(function(t){return t.isIntersecting||0<t.intersectionRatio?(a=t.target,i=t,r=s,l=u,c=0<=ct.indexOf(h(a)),E(a,"entered"),w(a,r.class_entered),A(a,r.class_exited),r.unobserve_entered&&L(a,l),k(r.callback_enter,a,i,l),void(c||R(a,r,l))):(i=t.target,c=t,a=s,r=u,void(I(i)||(w(i,a.class_exited),l=i,t=c,n=r,(e=a).cancel_on_exit&&h(l)===m&&"IMG"===l.tagName&&(T(l),x(o=l,function(t){bt(t)}),bt(o),pt(l),A(l,e.class_loading),O(n,-1),y(l),k(e.callback_cancel,l,t,n)),k(a.callback_exit,i,c,r))));var e,n,o,a,i,r,l,c})}function K(t){return Array.prototype.slice.call(t)}function l(t){return t.container.querySelectorAll(t.elements_selector)}function Q(t){return h(t)===v}function W(t,e){return t=t||l(e),K(t).filter(I)}function a(t,e){var o,a,n,i,t=r(t);this._settings=t,this.loadingCount=0,n=t,i=this,Y&&!$(n)&&(i._observer=new IntersectionObserver(function(t){q(t,n,i)},{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"})),o=t,a=this,_&&(a._onlineHandler=function(){var e,t,n;t=a,n=l(e=o),K(n).filter(Q).forEach(function(t){A(t,e.class_error),y(t)}),t.update()},window.addEventListener("online",a._onlineHandler)),this.update(e)}var _="undefined"!=typeof window,X=_&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Y=_&&"IntersectionObserver"in window,Z=_&&"classList"in document.createElement("p"),tt=_&&1<window.devicePixelRatio,et={elements_selector:".lazy",container:X||_?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},g="src",i="srcset",b="sizes",nt="poster",p="llOriginalAttrs",ot="data",m="loading",at="loaded",it="applied",v="error",rt="native",lt="data-",h=function(t){return c(t,"ll-status")},E=function(t,e){var n;t=t,n="data-ll-status",null!==e?t.setAttribute(n,e):t.removeAttribute(n)},y=function(t){return E(t,null)},I=function(t){return null===h(t)},ct=[m,at,it,v],k=function(t,e,n,o){t&&"function"==typeof t&&(void 0===o?void 0===n?t(e):t(e,n):t(e,n,o))},w=function(t,e){Z?t.classList.add(e):t.className+=(t.className?" ":"")+e},A=function(t,e){Z?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},L=function(t,e){e&&(e=e._observer)&&e.unobserve(t)},O=function(t,e){t&&(t.loadingCount+=e)},x=function(t,e){t=t.parentNode;t&&"PICTURE"===t.tagName&&j(t).forEach(e)},C=[g],st=[g,nt],N=[g,i,b],ut=[ot],M=function(t){return!!t[p]},dt=function(t){return t[p]},ft={IMG:function(t,e){x(t,function(t){n(t,N),B(t,e)}),n(t,N),B(t,e)},IFRAME:function(t,e){n(t,C),o(t,g,c(t,e.data_src))},VIDEO:function(t,e){D(t,function(t){n(t,C),o(t,g,c(t,e.data_src))}),n(t,st),o(t,nt,c(t,e.data_poster)),o(t,g,c(t,e.data_src)),t.load()},OBJECT:function(t,e){n(t,ut),o(t,ot,c(t,e.data_src))}},_t=["IMG","IFRAME","VIDEO","OBJECT"],gt=function(t,e,n){t.removeEventListener(e,n)},z=function(t){return!!t.llEvLisnrs},T=function(t){if(z(t)){var e,n=t.llEvLisnrs;for(e in n){var o=n[e];gt(t,e,o)}delete t.llEvLisnrs}},R=function(t,e,n){var o,a,i,r,l;-1<_t.indexOf(t.tagName)?(s(i=t,o=e,l=n),o=o,l=l,(a=ft[(i=i).tagName])&&(a(i,o),F(i,o,l))):(a=e,i=n,(o=t).llTempImage=document.createElement("IMG"),s(o,a,i),M(l=o)||(l[p]={backgroundImage:l.style.backgroundImage}),l=i,t=c(e=o,(n=a).data_bg),r=c(e,n.data_bg_hidpi),(r=tt&&r?r:t)&&(e.style.backgroundImage='url("'.concat(r,'")'),d(e).setAttribute(g,r),F(e,n,l)),t=i,n=c(r=o,(e=a).data_bg_multi),l=c(r,e.data_bg_multi_hidpi),(l=tt&&l?l:n)&&(r.style.backgroundImage=l,V(r,e,t)),n=i,(e=c(l=o,(r=a).data_bg_set))&&(t=(e=e.split("|")).map(function(t){return"image-set(".concat(t,")")}),l.style.backgroundImage=t.join(),""===l.style.backgroundImage&&(t=e.map(function(t){return"-webkit-image-set(".concat(t,")")}),l.style.backgroundImage=t.join()),V(l,r,n)))},bt=function(t){t.removeAttribute(g),t.removeAttribute(i),t.removeAttribute(b)},pt=function(t){x(t,function(t){f(t,N)}),f(t,N)},mt={IMG:pt,IFRAME:function(t){f(t,C)},VIDEO:function(t){D(t,function(t){f(t,C)}),f(t,st),t.load()},OBJECT:function(t){f(t,ut)}},vt=["IMG","IFRAME","VIDEO"];if(a.prototype={update:function(t){var e,n,o,a,i=this._settings,t=W(t,i);G(this,t.length),!X&&Y?$(i)?(o=i,a=this,t.forEach(function(t){var e,n;-1!==vt.indexOf(t.tagName)&&(e=o,n=a,(t=t).setAttribute("loading","lazy"),s(t,e,n),(n=ft[t.tagName])&&n(t,e),E(t,rt))}),G(a,0)):(i=t,(e=this._observer).disconnect(),n=e,i.forEach(function(t){n.observe(t)})):this.loadAll(t)},destroy:function(){this._observer&&this._observer.disconnect(),_&&window.removeEventListener("online",this._onlineHandler),l(this._settings).forEach(function(t){H(t)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){var e=this,n=this._settings;W(t,n).forEach(function(t){L(t,e),R(t,n,e)})},restoreAll:function(){var a=this._settings;l(a).forEach(function(t){var e,n,o;e=a,(o=mt[(n=t=t).tagName])?o(n):M(o=n)&&(n=dt(o),o.style.backgroundImage=n.backgroundImage),o=e,I(n=t)||u(n)||(A(n,o.class_entered),A(n,o.class_exited),A(n,o.class_applied),A(n,o.class_loading),A(n,o.class_loaded),A(n,o.class_error)),y(t),H(t)})}},a.load=function(t,e){e=r(e);R(t,e)},a.resetStatus=function(t){y(t)},_){var ht=a,S=window.lazyLoadOptions;if(S)if(S.length)for(var Et,yt=0;Et=S[yt];yt+=1)t(ht,Et);else t(ht,S)}return a},"object"==("undefined"==typeof exports?"undefined":e(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):("undefined"!=typeof globalThis?globalThis:self).LazyLoad=t();